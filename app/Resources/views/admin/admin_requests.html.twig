{# app/Resources/views/admin/admin_requests.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}User Request{% endblock%}

{% block body %}

<main class="mdl-layout__content-admin-show">
	<div class="page-content mdl-grid">	
		<div class="mdl-card admin-show-card mdl-cell mdl-cell--12-col mdl-shadow--4dp">		
			<h2>Admin Panel</h2>

			<div class="mdl-card admin-details-card mdl-cell mdl-cell--12-col mdl-shadow--2dp">
			    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
					<h2 class="mdl-card__title-text">Manage User Request</h2>
				</div>
				
				<div class="mdl-card__supporting-text">
					You can manage user requests for the conference here. The user will be notified after you approve or deny it.
				</div>
				
				<table class="mdl-data-table admin-user-details mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
				  <thead>
					<tr>
					  <th class="mdl-data-table__cell--non-numeric">User Name</th>
					  <th class="mdl-data-table__cell--non-numeric">First Name</th>
					  <th class="mdl-data-table__cell--non-numeric">Last Name</th>
					  <th class="mdl-data-table__cell--non-numeric">Conference</th>
					  <th class="mdl-data-table__cell--non-numeric">Request</th>
					  <th class="mdl-data-table__cell--non-numeric">Status</th>
					  <th class="mdl-data-table__cell--non-numeric">Manage</th>
					</tr>
				  </thead>
				  <tbody>
					{% for user_info in users %}
					<tr>
					  <td class="mdl-data-table__cell--non-numeric">{{ user_info.username }}</td>
					  <td class="mdl-data-table__cell--non-numeric">{{ user_info.firstName }}</td>
					  <td class="mdl-data-table__cell--non-numeric">{{ user_info.lastName }}</td>
					  <td class="mdl-data-table__cell--non-numeric">Conference Name</td>
					  <td class="mdl-data-table__cell--non-numeric">Request</td>
					  <td class="mdl-data-table__cell--non-numeric">Status on request approve</td>
					  <td class="mdl-data-table__cell--non-numeric">
					  {% if user_info.approved == 0 %}
						<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="#">
							Approve
						</a>
						<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="#">
						  Deny
						</a>
					  {% else %}
						<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="#">
						  Change Role
						</a>
					  {% endif %}
					  </td>
					</tr>
					{% endfor %}
				  </tbody>
				</table>
			</div>		
		</div>	
	</div>
</main>
</div>

{% endblock %}		